dim_co_variate=1,
num_regime=1,
xstart=c(log(1),log(2),0,0,-10,-10),
num_func_param=6,
ub=c(5, 5, 5, 5, 5, 5),
lb=c(-5,-5,-5,-5,-15, -15)
)
# initial values and bounds
tfun <- function(x){c(exp(x[1]), exp(x[2]), x[3:6])}
x <- dynr.run(model, data, tfun)
str(x)
summary(x)
require(dynr)
require(numDeriv)
data(dataPANAsim)
data <- dynr.data(dataPANAsim, id="V1", time="V2",observed=paste0('V', 3:4), covariates=paste0('V', 5))
# the model
model <- list(num_sbj=217,
dim_latent_var=4,
dim_obs_var=2,
dim_co_variate=1,
num_regime=1,
xstart=c(log(1),log(2),0,0,-10,-10),
num_func_param=6,
ub=c(5, 5, 5, 5, 5, 5),
lb=c(-5,-5,-5,-5,-15, -15)
)
# initial values and bounds
tfun <- function(x){c(exp(x[1]), exp(x[2]), x[3:6])}
x <- dynr.run(model, data, tfun)
str(x)
summary(x)
cd ..
setwd("~/Dropbox/Brekfis/dynr")
data(dataPANAsim)
data <- dynr.data(dataPANAsim, id="V1", time="V2",observed=paste0('V', 3:4), covariates=paste0('V', 5))
head(data)
model <- list(num_sbj=217,
dim_latent_var=4,
dim_obs_var=2,
dim_co_variate=1,
num_regime=1,
xstart=c(log(1),log(2),0,0,-10,-10),
num_func_param=6,
ub=c(5, 5, 5, 5, 5, 5),
lb=c(-5,-5,-5,-5,-15, -15)
)
x <- dynr.run(model, data)
require(dynr)
require(numDeriv)
data(dataPANAsim)
data <- dynr.data(dataPANAsim, id="V1", time="V2",observed=paste0('V', 3:4), covariates=paste0('V', 5))
# the model
model <- list(num_sbj=217,
dim_latent_var=4,
dim_obs_var=2,
dim_co_variate=1,
num_regime=1,
xstart=c(log(1),log(2),0,0,-10,-10),
num_func_param=6,
ub=c(5, 5, 5, 5, 5, 5),
lb=c(-5,-5,-5,-5,-15, -15)
)
# initial values and bounds
tfun <- function(x){c(exp(x[1]), exp(x[2]), x[3:6])}
x <- dynr.run(model, data)
setwd("~/Dropbox/Brekfis/dynr/src")
data(dataPANAsim)
data <- dynr.data(dataPANAsim, id="V1", time="V2",observed=paste0('V', 3:4), covariates=paste0('V', 5))
# the model
model <- list(num_sbj=217,
dim_latent_var=4,
dim_obs_var=2,
dim_co_variate=1,
num_regime=1,
xstart=c(log(1),log(2),0,0,-10,-10),
num_func_param=6,
ub=c(5, 5, 5, 5, 5, 5),
lb=c(-5,-5,-5,-5,-15, -15)
)
# initial values and bounds
tfun <- function(x){c(exp(x[1]), exp(x[2]), x[3:6])}
x <- dynr.run(model, data)
data(dataPANAsim)
data <- dynr.data(dataPANAsim, id="V1", time="V2",observed=paste0('V', 3:4), covariates=paste0('V', 5))
# the model
model <- list(num_sbj=217,
dim_latent_var=4,
dim_obs_var=2,
dim_co_variate=1,
num_regime=1,
xstart=c(log(1),log(2),0,0,-10,-10),
num_func_param=6,
ub=c(5, 5, 5, 5, 5, 5),
lb=c(-5,-5,-5,-5,-15, -15)
)
# initial values and bounds
tfun <- function(x){c(exp(x[1]), exp(x[2]), x[3:6])}
x <- dynr.run(model, data)
setwd("~/Dropbox/Brekfis/dynr")
data(dataPANAsim)
data <- dynr.data(dataPANAsim, id="V1", time="V2",observed=paste0('V', 3:4), covariates=paste0('V', 5))
# the model
model <- list(num_sbj=217,
dim_latent_var=4,
dim_obs_var=2,
dim_co_variate=1,
num_regime=1,
xstart=c(log(1),log(2),0,0,-10,-10),
num_func_param=6,
ub=c(5, 5, 5, 5, 5, 5),
lb=c(-5,-5,-5,-5,-15, -15)
)
# initial values and bounds
tfun <- function(x){c(exp(x[1]), exp(x[2]), x[3:6])}
x <- dynr.run(model, data)
model
x <- dynr.run(model, data,tfun)
dynr.run
data(dataPANAsim)
data <- dynr.data(dataPANAsim, id="V1", time="V2",observed=paste0('V', 3:4), covariates=paste0('V', 5))
# the model
model <- list(num_sbj=217,
dim_latent_var=4,
dim_obs_var=2,
dim_co_variate=1,
num_regime=1,
xstart=c(log(1),log(2),0,0,-10,-10),
num_func_param=6,
ub=c(5, 5, 5, 5, 5, 5),
lb=c(-5,-5,-5,-5,-15, -15)
)
x <- dynr.run(model, data)
demo("PANAsim.R")
demo(PANAsim.R)
if(!require(numDeriv)){
install.packages('numDeriv')
}
require(dynr)
require(numDeriv)
demo(PANAsim.R)
if(!require(numDeriv)){
install.packages('numDeriv')
}
require(dynr)
require(numDeriv)
data(dataPANAsim)
data <- dynr.data(dataPANAsim, id="V1", time="V2",observed=paste0('V', 3:4), covariates=paste0('V', 5))
# the model
model <- list(num_sbj=217,
dim_latent_var=4,
dim_obs_var=2,
dim_co_variate=1,
num_regime=1,
xstart=c(log(1),log(2),0,0,-10,-10),
num_func_param=6,
ub=c(5, 5, 5, 5, 5, 5),
lb=c(-5,-5,-5,-5,-15, -15)
)
# initial values and bounds
tfun <- function(x){c(exp(x[1]), exp(x[2]), x[3:6])}
x <- dynr.run(model, data)
x
summary(x)
plot(x, data=data, graphingPar=list(cex.main=1, cex.axis=1, cex.lab=1.2), numSubjDemo=2)
if(!require(numDeriv)){
install.packages('numDeriv')
}
require(dynr)
require(numDeriv)
data(dataPANAsim)
data <- dynr.data(dataPANAsim, id="V1", time="V2",observed=paste0('V', 3:4), covariates=paste0('V', 5))
# the model
model <- list(num_sbj=217,
dim_latent_var=4,
dim_obs_var=2,
dim_co_variate=1,
num_regime=1,
xstart=c(log(1),log(2),0,0,-10,-10),
num_func_param=6,
ub=c(5, 5, 5, 5, 5, 5),
lb=c(-5,-5,-5,-5,-15, -15)
)
tfun <- function(x){c(exp(x[1]), exp(x[2]), x[3:6])}
dynr.run(model, data,tfun)
install.packages("PcppDE")
install.packages("RcppDE")
demo(CompileBenchmark)
library(RcppDE)
demo(CompileBenchmark)
rm(list=ls(all=TRUE))
if(!require(numDeriv)){
install.packages('numDeriv')
}
require(dynr)
require(numDeriv)
data(dataPANAsim)
data <- dynr.data(dataPANAsim, id="V1", time="V2",observed=paste0('V', 3:4), covariates=paste0('V', 5))
# the model
model <- list(num_sbj=217,
dim_latent_var=4,
dim_obs_var=2,
dim_co_variate=1,
num_regime=1,
xstart=c(log(1),log(2),0,0,-10,-10),
num_func_param=6,
ub=c(5, 5, 5, 5, 5, 5),
lb=c(-5,-5,-5,-5,-15, -15)
)
# initial values and bounds
tfun <- function(x){c(exp(x[1]), exp(x[2]), x[3:6])}
x <- dynr.run(model, data,tfun)
summary(x)
plot(x, data=data, graphingPar=list(cex.main=1, cex.axis=1, cex.lab=1.2), numSubjDemo=2)
library(RcppDE)
demo(CompiledBenchmark)
Wild <- function(x) {   	## 'Wild' function, global minimum at about -15.81515
sum(10 * sin(0.3 * x) * sin(1.3 * x^2) + 0.00001 * x^4 + 0.2 * x + 80)/length(x)
}
src.xptr <- 'return(XPtr<funcPtr>(new funcPtr(&wild)));'
create_xptr <- cxxfunction(signature(funname="character"), body=src.xptr, inc=inc, plugin="Rcpp")
library(Rcpp)
create_xptr <- cxxfunction(signature(funname="character"), body=src.xptr, inc=inc, plugin="Rcpp")
library(inline)
create_xptr <- cxxfunction(signature(funname="character"), body=src.xptr, inc=inc, plugin="Rcpp")
rm(list(all=TRUE))
if(!require(numDeriv)){
install.packages('numDeriv')
}
if(!require(ggplot2)){
install.packages('ggplot2')
}
if(!require(reshape2)){
install.packages('reshape2')
}
if(!require(plyr)){
install.packages('plyr')
}
require(dynr)
require(numDeriv)
data(dataPANAsim)
data <- dynr.data(dataPANAsim, id="V1", time="V2",observed=paste0('V', 3:4), covariates=paste0('V', 5))
# the model
model <- list(num_sbj=217,
dim_latent_var=4,
dim_obs_var=2,
dim_co_variate=1,
num_regime=1,
xstart=c(log(1),log(2),0,0,-10,-10),
num_func_param=6,
ub=c(5, 5, 5, 5, 5, 5),
lb=c(-5,-5,-5,-5,-15, -15)
)
# initial values and bounds
tfun <- function(x){c(exp(x[1]), exp(x[2]), x[3:6])}
x <- dynr.run(model, data, tfun)
summary(x)
plot(x, data=data, graphingPar=list(cex.main=1, cex.axis=1, cex.lab=1.2), numSubjDemo=2)
dynr.ggplot(x, data.dynr=data, states=c(1,3), numSubjDemo=2)
length(model$xstart)
require(dynr)
thedata = read.table('~/Dropbox/Brekfis/dynr/data/New2CovModel1T1000n20batch1ODEsimData.txt')
thedata$V6 <- as.numeric(thedata$V6)
data <- dynr.data(thedata, id="V1", time="V2",observed=paste0('V', 3:4),
covariates=paste0('V', 5:6))
model <- list(num_sbj=20,
dim_latent_var=2,
dim_obs_var=2,
dim_co_variate=2,
num_regime=2,
xstart=c(rep(log(.1), 4), log(10.0), log(10.0), -3.0, 9.0, -1.5, -0.5, 95.0,-.3,-.3),
num_func_param=13,
ub=c(rep(10, 6), rep(20, 4), 1000, 20, 20),
lb=c(rep(-10, 6), rep(-20, 4), 0, -20, -20)
)
length(model$xstart)
length(model$ub)
length(model$lb)
sum(is.na(thedata))
require(dynr)
thedata = read.table('~/Dropbox/Brekfis/dynr/data/New2CovModel1T1000n20batch1ODEsimData.txt')
thedata$V6 <- as.numeric(thedata$V6)
data <- dynr.data(thedata, id="V1", time="V2",observed=paste0('V', 3:4),
covariates=paste0('V', 5:6))
model <- list(num_sbj=20,
dim_latent_var=2,
dim_obs_var=2,
dim_co_variate=2,
num_regime=2,
xstart=c(rep(log(.1), 4), log(10.0), log(10.0), -3.0, 9.0, -1.5, -0.5, 95.0,-.3,-.3),
num_func_param=13,
ub=c(rep(10, 6), rep(20, 4), 1000, 20, 20),
lb=c(rep(-10, 6), rep(-20, 4), 0, -20, -20)
)
x <- dynr.run(model, data)
thedata = read.table('~/Dropbox/Brekfis/dynr/data/New2CovModel1T1000n20batch1ODEsimData.txt')
thedata$V6 <- as.numeric(thedata$V6)
data <- dynr.data(thedata, id="V1", time="V2",observed=paste0('V', 3:4),
covariates=paste0('V', 5:6))
model <- list(num_sbj=20,
dim_latent_var=2,
dim_obs_var=2,
dim_co_variate=2,
num_regime=2,
xstart=c(rep(log(.1), 4), log(10.0), log(10.0), -3.0, 9.0, -1.5, -0.5, 95.0,-.3,-.3),
num_func_param=13,
ub=c(rep(10, 6), rep(20, 4), 1000, 20, 20),
lb=c(rep(-10, 6), rep(-20, 4), 0, -20, -20)
)
x <- dynr.run(model, data)
as.integer(-1)
require(dynr)
thedata = read.table('~/Dropbox/Brekfis/dynr/data/New2CovModel1T1000n20batch1ODEsimData.txt')
thedata$V6 <- as.numeric(thedata$V6)
data <- dynr.data(thedata, id="V1", time="V2",observed=paste0('V', 3:4),
covariates=paste0('V', 5:6))
model <- list(num_sbj=20,
dim_latent_var=2,
dim_obs_var=2,
dim_co_variate=2,
num_regime=2,
xstart=c(rep(log(.1), 4), log(10.0), log(10.0), -3.0, 9.0, -1.5, -0.5, 95.0,-.3,-.3),
num_func_param=13,
ub=c(rep(10, 6), rep(20, 4), 1000, 20, 20),
lb=c(rep(-10, 6), rep(-20, 4), 0, -20, -20)
)
x <- dynr.run(model, data)
require(dynr)
thedata = read.table('~/Dropbox/Brekfis/dynr/data/New2CovModel1T1000n20batch1ODEsimData.txt')
thedata$V6 <- as.numeric(thedata$V6)
data <- dynr.data(thedata, id="V1", time="V2",observed=paste0('V', 3:4),
covariates=paste0('V', 5:6))
model <- list(num_sbj=20,
dim_latent_var=2,
dim_obs_var=2,
dim_co_variate=2,
num_regime=2,
xstart=c(rep(log(.1), 4), log(10.0), log(10.0), -3.0, 9.0, -1.5, -0.5, 95.0,-.3,-.3),
num_func_param=13,
ub=c(rep(10, 6), rep(20, 4), 1000, 20, 20),
lb=c(rep(-10, 6), rep(-20, 4), 0, -20, -20)
)
x <- dynr.run(model, data)
require(dynr)
thedata = read.table('~/Dropbox/Brekfis/dynr/data/New2CovModel1T1000n20batch1ODEsimData.txt')
thedata$V6 <- as.numeric(thedata$V6)
data <- dynr.data(thedata, id="V1", time="V2",observed=paste0('V', 3:4),
covariates=paste0('V', 5:6))
model <- list(num_sbj=20,
dim_latent_var=2,
dim_obs_var=2,
dim_co_variate=2,
num_regime=2,
xstart=c(rep(log(.1), 4), log(10.0), log(10.0), -3.0, 9.0, -1.5, -0.5, 95.0,-.3,-.3),
num_func_param=13,
ub=c(rep(10, 6), rep(20, 4), 1000, 20, 20),
lb=c(rep(-10, 6), rep(-20, 4), 0, -20, -20)
)
x <- dynr.run(model, data)
require(dynr)
detach("package:dynr", unload=TRUE)
require(dynr)
thedata = read.table('~/Dropbox/Brekfis/dynr/data/New2CovModel1T1000n20batch1ODEsimData.txt')
thedata$V6 <- as.numeric(thedata$V6)
data <- dynr.data(thedata, id="V1", time="V2",observed=paste0('V', 3:4),
covariates=paste0('V', 5:6))
model <- list(num_sbj=20,
dim_latent_var=2,
dim_obs_var=2,
dim_co_variate=2,
num_regime=2,
xstart=c(rep(log(.1), 4), log(10.0), log(10.0), -3.0, 9.0, -1.5, -0.5, 95.0,-.3,-.3),
num_func_param=13,
ub=c(rep(10, 6), rep(20, 4), 1000, 20, 20),
lb=c(rep(-10, 6), rep(-20, 4), 0, -20, -20)
)
x <- dynr.run(model, data)
detach("package:dynr", unload=TRUE)
require(dynr)
thedata = read.table('~/Dropbox/Brekfis/dynr/data/New2CovModel1T1000n20batch1ODEsimData.txt')
thedata$V6 <- as.numeric(thedata$V6)
data <- dynr.data(thedata, id="V1", time="V2",observed=paste0('V', 3:4),
covariates=paste0('V', 5:6))
model <- list(num_sbj=20,
dim_latent_var=2,
dim_obs_var=2,
dim_co_variate=2,
num_regime=2,
xstart=c(rep(log(.1), 4), log(10.0), log(10.0), -3.0, 9.0, -1.5, -0.5, 95.0,-.3,-.3),
num_func_param=13,
ub=c(rep(10, 6), rep(20, 4), 1000, 20, 20),
lb=c(rep(-10, 6), rep(-20, 4), 0, -20, -20)
)
x <- dynr.run(model, data)
summary(x)
plot(x, data=data, graphingPar=list(cex.main=1, cex.axis=1, cex.lab=1.2), numSubjDemo=2)
rm(list(all=TRUE))
rm(ls(all=TRUE))
rm(list=ls(all=TRUE))
require(dynr)
thedata = read.table('~/Dropbox/Brekfis/dynr/data/New2CovModel1T1000n20batch1ODEsimData.txt')
thedata$V6 <- as.numeric(thedata$V6)
data <- dynr.data(thedata, id="V1", time="V2",observed=paste0('V', 3:4),
covariates=paste0('V', 5:6))
model <- list(num_sbj=20,
dim_latent_var=2,
dim_obs_var=2,
dim_co_variate=2,
num_regime=2,
xstart=c(rep(log(.1), 4), log(10.0), log(10.0), -3.0, 9.0, -1.5, -0.5, 95.0,-.3,-.3),
num_func_param=13,
ub=c(rep(10, 6), rep(20, 4), 1000, 20, 20),
lb=c(rep(-10, 6), rep(-20, 4), 0, -20, -20)
)
x <- dynr.run(model, data)
summary(x)
require(dynr)
thedata = read.table('~/Dropbox/Brekfis/dynr/data/New2CovModel1T1000n20batch1ODEsimData.txt')
thedata$V6 <- as.numeric(thedata$V6)
data <- dynr.data(thedata, id="V1", time="V2",observed=paste0('V', 3:4),
covariates=paste0('V', 5:6))
model <- list(num_sbj=20,
dim_latent_var=2,
dim_obs_var=2,
dim_co_variate=2,
num_regime=2,
xstart=c(rep(log(.1), 4), log(10.0), log(10.0), -3.0, 9.0, -1.5, -0.5, 95.0,-.3,-.3),
num_func_param=13,
ub=c(rep(10, 6), rep(20, 4), 1000, 20, 20),
lb=c(rep(-10, 6), rep(-20, 4), 0, -20, -20)
)
x <- dynr.run(model, data)
rm(list=ls(all=TRUE))
detach("package:dynr", unload=TRUE)
detach("package:utils", unload=TRUE)
detach("package:stats", unload=TRUE)
detach("package:plyr", unload=TRUE)
detach("package:ggplot2", unload=TRUE)
detach("package:graphics", unload=TRUE)
detach("package:grDevices", unload=TRUE)
detach("package:reshape2", unload=TRUE)
require(dynr)
thedata = read.table('~/Dropbox/Brekfis/dynr/data/New2CovModel1T1000n20batch1ODEsimData.txt')
require(dynr)
thedata = read.table('~/Dropbox/Brekfis/dynr/data/New2CovModel1T1000n20batch1ODEsimData.txt')
thedata$V6 <- as.numeric(thedata$V6)
data <- dynr.data(thedata, id="V1", time="V2",observed=paste0('V', 3:4),
covariates=paste0('V', 5:6))
model <- list(num_sbj=20,
dim_latent_var=2,
dim_obs_var=2,
dim_co_variate=2,
num_regime=2,
xstart=c(rep(log(.1), 4), log(10.0), log(10.0), -3.0, 9.0, -1.5, -0.5, 95.0,-.3,-.3),
num_func_param=13,
ub=c(rep(10, 6), rep(20, 4), 1000, 20, 20),
lb=c(rep(-10, 6), rep(-20, 4), 0, -20, -20)
)
x <- dynr.run(model, data)
is.numeric(1e-7)
model$options
frontendStart <- Sys.time()
if(missing(transformation)){
transformation <- function(x){x}
}
model
data
transformation=NULL
conf.level=.95
frontendStart <- Sys.time()
if(missing(transformation)){
transformation <- function(x){x}
}
model <- combineModelDataInformation(model, data)
model <- preProcessModel(model)
str(model$options)
model
model <- combineModelDataInformation(model, data)
model <- preProcessModel(model)
str(model)
model <- combineModelDataInformation(model, data)
model <- dynr.model(num_sbj=20,
dim_latent_var=2,
dim_obs_var=2,
dim_co_variate=2,
num_regime=2,
xstart=c(rep(log(.1), 4), log(10.0), log(10.0), -3.0, 9.0, -1.5, -0.5, 95.0,-.3,-.3),
num_func_param=13,
ub=c(rep(10, 6), rep(20, 4), 1000, 20, 20),
lb=c(rep(-10, 6), rep(-20, 4), 0, -20, -20)
)
model <- dynr.model(
num_regime=2,
dim_latent_var=2,
xstart=c(rep(log(.1), 4), log(10.0), log(10.0), -3.0, 9.0, -1.5, -0.5, 95.0,-.3,-.3),
ub=c(rep(10, 6), rep(20, 4), 1000, 20, 20),
lb=c(rep(-10, 6), rep(-20, 4), 0, -20, -20)
)
x <- dynr.run(model, data)
res<-x
summary(res)
plot(res, data=data, graphingPar=list(cex.main=1, cex.axis=1, cex.lab=1.2), numSubjDemo=2)
dynr.ggplot(res, data.dynr=data, states=c(1,2), names.state=paste0("state",states), title="Smoothed State Values", numSubjDemo=2)
rm(conf.level)
rm(frontendStart)
rm(x)
rm(src.xptr)
rm(transformation)
rm(tfun)
rm(Wild)
rm(dataPANAsim)
save.image(file="RSLinearODE.RData")
