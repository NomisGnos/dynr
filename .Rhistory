setwd('../Tutorials')
dyn.load(paste("exampleRListArg", .Platform$dynlib.ext, sep=''))
v1 <- list(a=rnorm(3), b=rnorm(5))
v2 <- rnorm(3)
.Call("anyfun", v1, v2)
v1
v2
mydata<-read.table("~/Dropbox/Brekfis/dynr/data/dataPANAsim.txt")
head(mydata)
dataframe=mydata
unique(dataframe[,id])
id='V1', time="V2",observed=paste0('V', 3:4), covariates=paste0('V', 5)
id='V1'
time="V2"
observed=paste0('V', 3:4)
covariates=paste0('V', 5)
unique(dataframe[,id])
which(dataframe[,id]%in%unique(dataframe[,id]))
which(min(dataframe[,id]%in%unique(dataframe[,id])))
min(which(dataframe[,id]%in%unique(dataframe[,id])))
ids=unique(dataframe[,id])
tstart=sapply(1:length(ids),function(i){min(which(dataframe[,id]%in%ids[i]))})
tstart
dim(dataframe)[2]
dim(dataframe)[1]
c(sapply(1:length(ids),function(i){min(which(dataframe[,id]%in%ids[i]))})-1,dim(dataframe)[1])
dynr.data<-function(dataframe,id,time,observed,covariates){
ids=unique(dataframe[,id])
tstart=c(sapply(1:length(ids),function(i){min(which(dataframe[,id]%in%ids[i]))})-1,dim(dataframe)[1])
data.object<-list(tstart=tstart,time=time,observed=dataframe[,observed],covariates=dataframe[,covariates])
}
dynr.data(mydata, id='V1', time="V2",observed=paste0('V', 3:4), covariates=paste0('V', 5))
dynr.data<-function(dataframe,id,time,observed,covariates){
ids=unique(dataframe[,id])
tstart=c(sapply(1:length(ids),function(i){min(which(dataframe[,id]%in%ids[i]))})-1,dim(dataframe)[1])
data.object<-list(tstart=tstart,time=time,observed=dataframe[,observed],covariates=dataframe[,covariates])
return(data.object)
}
dynr.data(mydata, id='V1', time="V2",observed=paste0('V', 3:4), covariates=paste0('V', 5))
data<-dynr.data(mydata, id='V1', time="V2",observed=paste0('V', 3:4), covariates=paste0('V', 5))
names(data)
data$tstart
dim(data$observed)
is.data.frame(data$observed)
names(data$observed)
unlist(dataframe[,observed])
mode(unlist(dataframe[,observed]))
head(unlist(dataframe[,observed]))
head(dataframe[,observed])
names(data$observed)
paste0('V', 3:4)
